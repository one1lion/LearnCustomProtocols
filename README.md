# LearnCustomProtocols

A repository for learning how to create and use custom protocols with WPF applications

**_Important note: some of the contents of this readme were generated by Copilot. I reviewed and adjusted the content before accepting it._**

## Getting Started

Clone the repository and open the solution in Visual Studio with Admin Privileges. It needs Admin privileges since it modifies the registry. 

The solution contains two application projects and one shared class library project:
- `LearnCustomProtocols.Cnsl`: A simple console application that demonstrates how to register and use the custom protocol. The `Program.cs` file contains the logic for calling the Register and Unregister methods in the `CustomProtocol` class.
- `LearnCustomProtocols.Wpf`: A simple WPF application that demonstrates how to register and use the custom protocol. `App.xaml.cs` contains the logic for calling the Register and Unregister methods in the `CustomProtocol` class.
- `LearnCustomProtocols.Shared`: The project that contains the code for the custom protocol. The `CustomProtocol.cs` file contains the logic for registering and unregistering the custom protocol.

## The Issue

I am trying to figure out how the custom protocol works. The issue I am having is that after I register the protocol and try to use, the OS asks me to choose an application to open the link with. 
It shows the appropriate exe in the Default App section, but it doesn't launch when I choose it (I am selecting "Just Once"). I am expecting the application to just launch without the prompt.

After I get this part working, the next places I will most likely run into issues are getting the URL in the running app, as well as re-using the existing instance of the app of it is already running.
 
## What is a protocol?

A protocol is a way to register a custom URI scheme with the operating system. This allows you to create a URI that can be used to launch your application from a web browser or other application. For example, if you have a custom protocol called `myapp` you could create a link in a web page like this:

```html
<a href="myapp://some/path/to/a/file">Launch my app</a>
```

When the user clicks on the link, your application will be launched and the URI will be passed to your application. You can then parse the URI and take whatever action is appropriate.

## Why would I want to do this?

There are a number of reasons why you might want to do this. One example is if you have a web application that needs to launch a desktop application. For example, if you have a web application that allows users to upload files, you might want to allow the user to click on a link to open the file in your desktop application. Another example is if you have a desktop application that needs to launch a web application. For example, if you have a desktop application that allows users to create a document, you might want to allow the user to click on a link to open the document in your web application.

